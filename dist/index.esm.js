/*!
 * quasar-ui-formtable-ext v0.0.1
 * (c) 2020 John Robinson <johnrob1880@gmail.com>
 * Released under the MIT License.
 */
import{QTable,QBtn,QSpace,QTr,QTd,QSelect,QCheckbox,QInput}from"quasar";var version="0.0.1",Component={name:"QFormtable",props:{columns:Array,title:String,buttonText:{type:String,default:"Finish"},loading:Boolean,data:{type:Array,default:function(){return[]}}},render:function(o){var e,r=this;return o(QTable,{staticClass:"QFormtable",props:Object.assign({},r.$props),scopedSlots:(e={},e["top-row"]=function(){return[r.$scopedSlots.topRow&&r.$scopedSlots.topRow()||o("div")]},e["bottom-row"]=function(){return[r.$scopedSlots.bottomRow&&r.$scopedSlots.bottomRow()||o("div")]},e.bottom=function(){return[o(QBtn,{on:{click:function(){return r.$emit("addRow")}},props:{disable:r.loading,icon:"add",color:"grey-7",dense:!0,size:"sm"}},["New Row"]),o(QSpace),o(QBtn,{props:{disable:r.loading,color:"primary",dense:!0,size:"sm"},on:{click:function(){r.$emit("complete",r.data)}}},r.buttonText)]},e["top-right"]=function(e){return o(QBtn,{on:{click:e.toggleFullscreen},props:{disabled:r.loading,class:"q-ml-md",flat:!0,round:!0,dense:!0,icon:e.inFullScreen?"fullscreen_exit":"fullscreen"}})},e.body=function(e){return o(QTr,{},r.columns.reduce(function(n,t){var s;return t.options?n.push(o(QTd,{class:"q-pt-md"},[o(QSelect,{props:{disable:r.loading,hideBottomSpace:!e.row._errors,error:!(!e.row._errors||!e.row._errors[t.name]),errorMessage:e.row._errors&&e.row._errors[t.name],name:t.name,value:e.row[t.name],model:e.row[t.name],filled:!0,dense:!0,square:!0,options:t.options},on:{input:function(o){return e.row[t.name]=o}}})])):t.type===Boolean?n.push(o(QTd,{},[o(QCheckbox,{props:Object.assign({},{disable:r.loading,name:t.name,dense:!0},e.row.props||{},{value:!!e.row[t.name],model:e.row[t.name]}),on:{input:function(o){return e.row[t.name]=o}}})])):n.push(o(QTd,{class:"q-pt-md"},[o(QInput,{props:Object.assign({},e.row.props||{},{disable:r.loading,hideBottomSpace:!e.row._errors,error:!(!e.row._errors||!e.row._errors[t.name]),errorMessage:e.row._errors&&e.row._errors[t.name],square:!0,filled:!0,dense:!0,name:t.name,value:e.row[t.name],type:t.props&&t.props.type||"text",model:t.props&&"number"===t.props.type?(s={},s[t.props.type]=e.row[t.name],s):e.row[t.name]}),on:{input:function(o){t.props&&"number"===t.props.type?e.row[t.name]=parseFloat(o):e.row[t.name]=o}}})])),n},[]))},e)})}},Plugin={version:version,Component:Component,install:function(o){o.component(Component.name,Component)}};export default Plugin;export{Component,version};